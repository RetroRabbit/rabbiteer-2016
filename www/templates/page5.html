<link rel="stylesheet" href="../lib/components-font-awesome/css/font-awesome.min.css" />

<h1 class="basicHeader">Chat Room: {{location}}</h1>

<div ng-if="!isLoggedIn()">
  <div>
    <a class="btn btn-block btn-social btn-github" ng-click="signInWithGitHub()">
      <span class="fa fa-github"></span> Sign in with GitHub
    </a>
  </div>
  <div>
    <a class="btn btn-social btn-google" ng-click="signInWithGoogle()">
      <span class="fa fa-google"></span> Sign in with Google
    </a>
  </div>
</div>
<div class="chat-container" ng-if="isLoggedIn()">
  <table class="table">
    <tr ng-repeat="msg in messages | orderBy: '-mgs.key'">
      <td>
        <div class=" bubble" ng-class="{true: 'bubble bubble--alt', false: 'bubble'}[msg.current]" <P style="color: black">
          <b>{{msg.nick}}</b><br> {{msg.message}}
          </P>
        </div>
      </td>
    </tr>
    <tr>
      <td><input type="text" ng-model="newMessage.message" ng-keydown="sendMessageOnEnter($event,newMessage)" class="span6 send" placeholder="Type message..."/></td>
      <td><button ng-click="sendMessage(newMessage)" class="send"><i class="fa fa-paper-plane"></i></button></td>
    </tr>
    <tr>
      <td><input type="text" class="displayname" placeholder="Change Displayname" ng-model="nick" ng-keydown="changeDisplayName($event,nick)" ></td>
      <td><button class="fa fa-pencil displayname" ng-click="changeDisplayName(nick)" /></td>
    </tr>
    <tr>
      <td>
        <a class="btn btn-block" ng-click="signOut()">
          <span class="fa fa-sign-out"></span> Sign Out
        </a>
      </td>
    </tr>
  </table>
</div>